<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic (AI-Powered): T·ª´ D·ªØ Li·ªáu ƒê·∫øn C√¢u Chuy·ªán Thuy·∫øt Ph·ª•c</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #F7F7F7;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 380px;
            }
        }
        .step-arrow {
            font-size: 2.5rem;
            color: #4A5568;
            line-height: 1;
        }
        .gemini-button {
            background: linear-gradient(45deg, #48BB78, #81E6D9);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .gemini-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .gemini-button:disabled {
            background: #A0AEC0;
            cursor: not-allowed;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #48BB78;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">Bi·∫øn D·ªØ Li·ªáu Th√†nh C√¢u Chuy·ªán</h1>
            <p class="text-lg md:text-xl text-gray-600">Ph√¢n t√≠ch case study t·ª´ "Storytelling with Data" v·ªõi s·ª©c m·∫°nh tƒÉng c∆∞·ªùng t·ª´ AI</p>
        </header>

        <main>
            <section id="challenge" class="mb-16">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-2" style="color: #FF6B6B;">Th√°ch Th·ª©c: Bi·ªÉu ƒê·ªì "Tr∆∞ng B√†y D·ªØ Li·ªáu"</h2>
                    <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">Bi·ªÉu ƒë·ªì ban ƒë·∫ßu th·ªÉ hi·ªán k·∫øt qu·∫£ kh·∫£o s√°t nh√¢n vi√™n. M·∫∑c d√π ch·ª©a ƒë·ª±ng ƒë·∫ßy ƒë·ªß th√¥ng tin, n√≥ l·∫°i th·∫•t b·∫°i trong vi·ªác truy·ªÅn t·∫£i m·ªôt th√¥ng ƒëi·ªáp r√µ r√†ng, ƒë·∫∑t g√°nh n·∫∑ng di·ªÖn gi·∫£i l√™n vai ng∆∞·ªùi xem.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="chart-container">
                            <canvas id="beforeChart"></canvas>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold mb-4">C√°c v·∫•n ƒë·ªÅ c·ªët l√µi:</h3>
                            <ul class="space-y-4">
                                <li class="flex items-start">
                                    <span class="text-2xl mr-3" style="color: #FF6B6B;">‚ö†Ô∏è</span>
                                    <div>
                                        <h4 class="font-bold">Kh√≥ so s√°nh</h4>
                                        <p class="text-gray-600">C√°c th√†nh ph·∫ßn kh√¥ng c√≥ chung ƒë∆∞·ªùng c∆° s·ªü (baseline) khi·∫øn vi·ªác so s√°nh tr·ª±c quan g·∫ßn nh∆∞ kh√¥ng th·ªÉ.</p>
                                    </div>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-2xl mr-3" style="color: #FF6B6B;">ü§Ø</span>
                                    <div>
                                        <h4 class="font-bold">Qu√° t·∫£i nh·∫≠n th·ª©c</h4>
                                        <p class="text-gray-600">B·∫£ng m√†u c·∫ßu v·ªìng v√† qu√° nhi·ªÅu ph√¢n kh√∫c d·ªØ li·ªáu g√¢y nhi·ªÖu v√† l√†m ng∆∞·ªùi xem m·∫•t t·∫≠p trung.</p>
                                    </div>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-2xl mr-3" style="color: #FF6B6B;">‚ùì</span>
                                    <div>
                                        <h4 class="font-bold">Thi·∫øu ƒëi·ªÉm nh·∫•n</h4>
                                        <p class="text-gray-600">M·ªçi d·ªØ li·ªáu ƒë∆∞·ª£c tr√¨nh b√†y "b√¨nh ƒë·∫≥ng", kh√¥ng c√≥ insight n√†o ƒë∆∞·ª£c l√†m n·ªïi b·∫≠t. C√¢u chuy·ªán ·ªü ƒë√¢u?</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="process" class="mb-16">
                 <h2 class="text-3xl font-bold text-center mb-8" style="color: #48BB78;">Quy Tr√¨nh 5 B∆∞·ªõc ƒê·ªÉ "K·ªÉ Chuy·ªán"</h2>
                <div class="flex flex-col md:flex-row justify-center items-center md:items-start space-y-8 md:space-y-0 md:space-x-4">
                    <div class="text-center flex-1 max-w-xs"><div class="bg-white rounded-full h-24 w-24 flex items-center justify-center mx-auto mb-4 shadow-md border-2 border-gray-200"><span class="text-4xl">üéØ</span></div><h4 class="font-bold">1. X√°c ƒë·ªãnh th√¥ng ƒëi·ªáp</h4><p class="text-sm text-gray-600">"G·∫ßn 1/3 nh√¢n vi√™n kh√¥ng c·∫£m th·∫•y ƒë∆∞·ª£c tr√¢n tr·ªçng."</p></div>
                    <div class="step-arrow mt-8 hidden md:block">&#10142;</div>
                    <div class="text-center flex-1 max-w-xs"><div class="bg-white rounded-full h-24 w-24 flex items-center justify-center mx-auto mb-4 shadow-md border-2 border-gray-200"><span class="text-4xl">üìä</span></div><h4 class="font-bold">2. Ch·ªçn bi·ªÉu ƒë·ªì ph√π h·ª£p</h4><p class="text-sm text-gray-600">Chuy·ªÉn t·ª´ c·ªôt ch·ªìng sang thanh ngang 100% ƒë·ªÉ d·ªÖ so s√°nh.</p></div>
                    <div class="step-arrow mt-8 hidden md:block">&#10142;</div>
                    <div class="text-center flex-1 max-w-xs"><div class="bg-white rounded-full h-24 w-24 flex items-center justify-center mx-auto mb-4 shadow-md border-2 border-gray-200"><span class="text-4xl">üßπ</span></div><h4 class="font-bold">3. D·ªçn d·∫πp s·ª± l·ªôn x·ªôn</h4><p class="text-sm text-gray-600">Lo·∫°i b·ªè c√°c ƒë∆∞·ªùng l∆∞·ªõi, vi·ªÅn, nh√£n th·ª´a ƒë·ªÉ t·∫≠p trung v√†o d·ªØ li·ªáu.</p></div>
                    <div class="step-arrow mt-8 hidden md:block">&#10142;</div>
                    <div class="text-center flex-1 max-w-xs"><div class="bg-white rounded-full h-24 w-24 flex items-center justify-center mx-auto mb-4 shadow-md border-2 border-gray-200"><span class="text-4xl">üé®</span></div><h4 class="font-bold">4. D√πng m√†u s·∫Øc chi·∫øn l∆∞·ª£c</h4><p class="text-sm text-gray-600">D√πng m√†u x√°m cho b·ªëi c·∫£nh v√† m√†u n·ªïi b·∫≠t cho insight ch√≠nh.</p></div>
                    <div class="step-arrow mt-8 hidden md:block">&#10142;</div>
                    <div class="text-center flex-1 max-w-xs"><div class="bg-white rounded-full h-24 w-24 flex items-center justify-center mx-auto mb-4 shadow-md border-2 border-gray-200"><span class="text-4xl">‚úçÔ∏è</span></div><h4 class="font-bold">5. D·∫´n d·∫Øt b·∫±ng vƒÉn b·∫£n</h4><p class="text-sm text-gray-600">S·ª≠ d·ª•ng ti√™u ƒë·ªÅ ch·ªß ƒë·ªông v√† ch√∫ th√≠ch ƒë·ªÉ k·ªÉ c√¢u chuy·ªán.</p></div>
                </div>
            </section>
            
            <section id="result" class="mb-16">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-2" style="color: #48BB78;">K·∫øt Qu·∫£: Bi·ªÉu ƒê·ªì "K·ªÉ Chuy·ªán"</h2>
                    <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">Bi·ªÉu ƒë·ªì sau khi c·∫£i thi·ªán ƒë√£ tr·ªü th√†nh m·ªôt c√¥ng c·ª• giao ti·∫øp m·∫°nh m·∫Ω. N√≥ kh√¥ng ch·ªâ tr√¨nh b√†y d·ªØ li·ªáu m√† c√≤n ch·ªß ƒë·ªông d·∫´n d·∫Øt ng∆∞·ªùi xem ƒë·∫øn insight quan tr·ªçng nh·∫•t.</p>
                    <div class="chart-container">
                        <canvas id="afterChart"></canvas>
                    </div>
                    <div class="mt-6 text-center text-gray-600">
                        <p>Th√¥ng ƒëi·ªáp <strong style="color: #FF6B6B;">"G·∫ßn m·ªôt ph·∫ßn ba nh√¢n vi√™n kh√¥ng c·∫£m th·∫•y ƒë∆∞·ª£c tr√¢n tr·ªçng"</strong> gi·ªù ƒë√¢y ƒë√£ tr·ªü n√™n r√µ r√†ng ngay t·ª´ c√°i nh√¨n ƒë·∫ßu ti√™n.</p>
                    </div>
                </div>
            </section>

            <section id="gemini-analysis" class="mb-16">
                 <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-4">T·ª´ Insight ƒë·∫øn H√†nh ƒê·ªông v·ªõi AI</h2>
                    <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">M·ªôt insight r√µ r√†ng l√† b∆∞·ªõc kh·ªüi ƒë·∫ßu. H√£y xem AI c√≥ th·ªÉ gi√∫p ch√∫ng ta di·ªÖn gi·∫£i v√† ƒë·ªÅ xu·∫•t c√°c b∆∞·ªõc ti·∫øp theo nh∆∞ th·∫ø n√†o.</p>
                    <div class="text-center mb-6">
                        <button id="gemini-button" class="gemini-button text-white font-bold py-3 px-6 rounded-full shadow-lg">
                            ‚ú® T·∫°o Ph√¢n T√≠ch Chuy√™n S√¢u (AI)
                        </button>
                    </div>
                    <div id="gemini-result-container" class="mt-4 p-6 bg-gray-50 rounded-lg border border-gray-200" style="display: none;">
                        <div id="gemini-loader" class="flex justify-center items-center">
                            <div class="loader"></div>
                        </div>
                        <div id="gemini-content"></div>
                    </div>
                </div>
            </section>
            
            <section id="takeaways">
                <h2 class="text-3xl font-bold text-center mb-8">B√†i H·ªçc Cho Nh√† Ph√¢n T√≠ch D·ªØ Li·ªáu</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <span class="text-5xl mb-4 block">üß†</span>
                        <h4 class="text-xl font-bold mb-2">T∆∞ duy chuy·ªÉn ƒë·ªïi</h4>
                        <p class="text-gray-600">Ng·ª´ng h·ªèi "Hi·ªÉn th·ªã d·ªØ li·ªáu n√†y th·∫ø n√†o?", h√£y h·ªèi "Truy·ªÅn ƒë·∫°t th√¥ng ƒëi·ªáp n√†y th·∫ø n√†o hi·ªáu qu·∫£ nh·∫•t?".</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <span class="text-5xl mb-4 block">üìñ</span>
                        <h4 class="text-xl font-bold mb-2">Ki·ªÉm so√°t c√¢u chuy·ªán</h4>
                        <p class="text-gray-600">M·ªói l·ª±a ch·ªçn thi·∫øt k·∫ø l√† m·ªôt c∆° h·ªôi ƒë·ªÉ b·∫°n ƒë·ªãnh h√¨nh c√°ch ng∆∞·ªùi kh√°c di·ªÖn gi·∫£i k·∫øt qu·∫£ ph√¢n t√≠ch c·ªßa b·∫°n.</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <span class="text-5xl mb-4 block">üöÄ</span>
                        <h4 class="text-xl font-bold mb-2">T·ª´ ph√¢n t√≠ch ƒë·∫øn ·∫£nh h∆∞·ªüng</h4>
                        <p class="text-gray-600">M·ªôt bi·ªÉu ƒë·ªì t·ªët kh√¥ng ch·ªâ tr√¨nh b√†y s·ª± th·∫≠t, n√≥ th√∫c ƒë·∫©y th·∫£o lu·∫≠n v√† d·∫´n ƒë·∫øn quy·∫øt ƒë·ªãnh, t·∫°o ra t·∫ßm ·∫£nh h∆∞·ªüng.</p>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center mt-12 py-6 border-t">
            <p class="text-sm text-gray-500">Infographic ƒë∆∞·ª£c t·∫°o d·ª±a tr√™n ph√¢n t√≠ch t·ª´ "Storytelling with Data" v√† tƒÉng c∆∞·ªùng b·ªüi Gemini API.</p>
        </footer>
    </div>

    <script>
        const chartData = {
            labels: ['Nh√≥m A', 'Nh√≥m B', 'Nh√≥m C', 'Nh√≥m D', 'Nh√≥m E'],
            datasets: [
                { label: 'Ho√†n to√†n kh√¥ng ƒë·ªìng √Ω', data: [5, 8, 6, 10, 7], backgroundColor: '#FF6B6B' },
                { label: 'Kh√¥ng ƒë·ªìng √Ω', data: [15, 12, 18, 20, 16], backgroundColor: '#FFA07A' },
                { label: 'Trung l·∫≠p', data: [10, 15, 11, 5, 12], backgroundColor: '#FFD700' },
                { label: 'ƒê·ªìng √Ω', data: [50, 45, 40, 45, 40], backgroundColor: '#98FB98' },
                { label: 'Ho√†n to√†n ƒë·ªìng √Ω', data: [20, 20, 25, 20, 25], backgroundColor: '#48BB78' }
            ]
        };

        function processLabels(labels, maxLength) {
            return labels.map(label => {
                if (label.length <= maxLength) {
                    return label;
                }
                const words = label.split(' ');
                let currentLine = '';
                const lines = [];
                words.forEach(word => {
                    if ((currentLine + ' ' + word).trim().length > maxLength) {
                        lines.push(currentLine.trim());
                        currentLine = word;
                    } else {
                        currentLine = (currentLine + ' ' + word).trim();
                    }
                });
                lines.push(currentLine.trim());
                return lines;
            });
        }
        
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };
        
        const commonTooltipConfig = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            }
        };
        
        function createBeforeChart() {
            const ctx = document.getElementById('beforeChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: chartData,
                options: {
                    ...commonTooltipConfig,
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { x: { stacked: true }, y: { stacked: true } },
                    plugins: {
                        ...commonTooltipConfig.plugins,
                        title: { display: true, text: 'K·∫øt qu·∫£ kh·∫£o s√°t m·ª©c ƒë·ªô nh√¢n vi√™n c·∫£m th·∫•y ƒë∆∞·ª£c tr√¢n tr·ªçng', padding: { top: 10, bottom: 20 } },
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        function createAfterChart() {
            const ctx = document.getElementById('afterChart').getContext('2d');
            const afterData = {
                labels: processLabels(['Nh√≥m D', 'Nh√≥m C', 'Nh√≥m E', 'Nh√≥m A', 'Nh√≥m B'], 16),
                datasets: [
                    { label: 'Kh√¥ng c·∫£m th·∫•y ƒë∆∞·ª£c tr√¢n tr·ªçng', data: [30, 24, 23, 20, 20], backgroundColor: '#FF6B6B' },
                    { label: 'C·∫£m th·∫•y ƒë∆∞·ª£c tr√¢n tr·ªçng / Trung l·∫≠p', data: [70, 76, 77, 80, 80], backgroundColor: '#CBD5E0' }
                ]
            };
            new Chart(ctx, {
                type: 'bar',
                data: afterData,
                options: {
                    ...commonTooltipConfig,
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { stacked: true, max: 100, ticks: { callback: value => value + '%' } },
                        y: { stacked: true }
                    },
                    plugins: {
                        ...commonTooltipConfig.plugins,
                        title: { display: true, text: 'G·∫ßn 1/3 nh√¢n vi√™n kh√¥ng c·∫£m th·∫•y ƒë∆∞·ª£c tr√¢n tr·ªçng', font: { size: 18, weight: 'bold' }, color: '#2D3748', padding: { top: 10, bottom: 20 } },
                        legend: { position: 'bottom', labels: { boxWidth: 20 } },
                        tooltip: {
                            ...commonTooltipConfig.plugins.tooltip,
                            callbacks: {
                                ...commonTooltipConfig.plugins.tooltip.callbacks,
                                label: context => `${context.dataset.label || ''}: ${context.parsed.x !== null ? context.parsed.x + '%' : ''}`
                            }
                        }
                    }
                }
            });
        }

        async function getGeminiAnalysis() {
            const resultContainer = document.getElementById('gemini-result-container');
            const loader = document.getElementById('gemini-loader');
            const content = document.getElementById('gemini-content');
            const button = document.getElementById('gemini-button');

            const apiKey = "AIzaSyCFhbLtZx4YPSAkPfecHnSCaBeVi-852Qc"; // <-- D√ÅN API KEY C·ª¶A B·∫†N V√ÄO ƒê√ÇY

            if (apiKey === "AIzaSyCFhbLtZx4YPSAkPfecHnSCaBeVi-852Qc") {
                resultContainer.style.display = 'block';
                content.innerHTML = `<p class="text-red-500 font-bold">L·ªói: Vui l√≤ng th√™m API Key c·ªßa b·∫°n v√†o file HTML. B·∫°n c√≥ th·ªÉ l·∫•y key mi·ªÖn ph√≠ t·ª´ Google AI Studio.</p>`;
                return;
            }
            
            resultContainer.style.display = 'block';
            loader.style.display = 'flex';
            content.innerHTML = '';
            button.disabled = true;

            const insight = "G·∫ßn m·ªôt ph·∫ßn ba nh√¢n vi√™n kh√¥ng c·∫£m th·∫•y ƒë∆∞·ª£c tr√¢n tr·ªçng.";
            const prompt = `B·∫°n l√† m·ªôt chuy√™n gia ph√¢n t√≠ch kinh doanh v√† nh√¢n s·ª±. M·ªôt cu·ªôc kh·∫£o s√°t n·ªôi b·ªô cho th·∫•y insight quan tr·ªçng sau: "${insight}". 

            D·ª±a tr√™n insight n√†y, h√£y t·∫°o m·ªôt b·∫£n ph√¢n t√≠ch ng·∫Øn g·ªçn cho ban l√£nh ƒë·∫°o. Tr√¨nh b√†y c√¢u tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát, c·∫•u tr√∫c th√†nh 2 ph·∫ßn r√µ r√†ng:
            1.  **C√°c T√°c ƒê·ªông Ti·ªÅm T√†ng ƒê·∫øn Doanh Nghi·ªáp:**
            2.  **C√°c B∆∞·ªõc H√†nh ƒê·ªông ƒê·ªÅ Xu·∫•t:**

            S·ª≠ d·ª•ng g·∫°ch ƒë·∫ßu d√≤ng cho m·ªói m·ª•c ƒë·ªÉ d·ªÖ theo d√µi.`;

            try {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }

                const result = await response.json();
                
                let text = 'Kh√¥ng th·ªÉ t·∫°o ph√¢n t√≠ch. Vui l√≤ng th·ª≠ l·∫°i.';
                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                    text = result.candidates[0].content.parts[0].text;
                }
                
                content.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong class="text-gray-900">$1</strong>')
                                        .replace(/\*/g, '<br> &bull; ');

            } catch (error) {
                console.error("Error calling Gemini API:", error);
                content.innerHTML = `<p class="text-red-500">ƒê√£ x·∫£y ra l·ªói khi t·∫°o ph√¢n t√≠ch. Vui l√≤ng ki·ªÉm tra console ƒë·ªÉ bi·∫øt th√™m chi ti·∫øt.</p>`;
            } finally {
                loader.style.display = 'none';
                button.disabled = false;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            createBeforeChart();
            createAfterChart();
            document.getElementById('gemini-button').addEventListener('click', getGeminiAnalysis);
        });
    </script>
</body>
</html>
